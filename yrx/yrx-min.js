function YReal(n){this.n=n;this.add=function(other){return new YReal(this.n+other.n)};this.negate=function(){return new YReal(-this.n)};this.subtract=function(other){return new YReal(this.n-other.n)};this.multiply=function(other){return new YReal(this.n*other.n)};this.divide=function(other){return new YReal(this.n/other.n)};this.reciprocal=function(){return new YReal(1/this.n)};this.log=function(){return new YReal(Math.log(this.n))};this.exp=function(){return new YReal(Math.exp(this.n))};this.sin=function(){return new YReal(Math.sin(this.n))};this.cos=function(){return new YReal(Math.cos(this.n))};this.tan=function(){return new YReal(Math.tan(this.n))};this.sqrt=function(){return new YReal(Math.sqrt(this.n))};this.acos=function(){return new YReal(Math.acos(this.n))};this.asin=function(){return new YReal(Math.asin(this.n))};this.atan=function(){return new YReal(Math.atan(this.n))};this.pow=function(other){return new YReal(Math.pow(this.n,other.n))};this.log10=function(){return new YReal(Math.log(this.n)/Math.log(10))};this.floor=function(){return new YReal(Math.floor(this.n))};this.ceil=function(){return new YReal(Math.ceil(this.n))};this.abs=function(){return new YReal(Math.abs(this.n))};this.PI=function(){return new YReal(Math.PI)};this.and=function(other){return new YReal(this.n&other.n)};this.or=function(other){return new YReal(this.n|other.n)};this.xor=function(other){return new YReal(this.n^other.n)};this.invert=function(){return new YReal(~this.n)};this.eng_format=function(s){var dp=s.indexOf(".");var ep=s.indexOf("e");if(ep>0&&dp>0){var exp=s.slice(ep+1);var emd=Math.abs(exp)%3;if(emd!=0){if(exp<0){emd=3-emd}exp-=emd;var intg=s.slice(0,dp);var frac=s.slice(dp+1,ep);while(emd-->0){intg+="0"}if(exp>=0){exp="+"+exp}s=intg+"."+frac+"e"+exp}}return s};this.decimal_format=function(fmt){var s=this.n;switch(fmt.real.mode){case 0:break;case 1:s=Number(this.n).toFixed(fmt.real.prec);break;case 2:s=Number(this.n).toExponential(fmt.real.prec);break;case 3:s=Number(this.n).toExponential(fmt.real.prec);s=this.eng_format(s);break}return s};this.format=function(fmt){if(arguments.length==0){console.log("default format");fmt={base:10,real:{mode:0}}}if(fmt.base==10){return this.decimal_format(fmt)}else{return Number(Math.floor(this.n)).toString(fmt.base)}};this.isInteger=function(){return this.n-Math.floor(this.n)==0};this.zero_equal=function(){return this.n==0};this.modulo=function(other){return new YReal(this.n%other.n)};this.toFloat=function(){return new YReal(this.n)};this.sinh=function(){return new YReal((Math.exp(this.n)-Math.exp(-this.n))/2)};this.cosh=function(){return new YReal((Math.exp(this.n)+Math.exp(-this.n))/2)};this.atan2=function(other){return new YReal(Math.atan2(this.n,other.n))};this.value=function(){return this.n};this.construct=function(n){return new YReal(n)}}if(typeof exports!=="undefined"){exports.YReal=YReal}function YRational(num,den,exact){this.gcd=function(a,b){var t;while(!b.zero_equal()){t=a;a=b;b=t.modulo(b)}return a};this.abs=function(){return new YRational(this.num.abs(),this.den,this.exact)};this.add=function(other){var n1=this.num.multiply(other.den);var n2=this.den.multiply(other.num);var n3=this.den.multiply(other.den);return new YRational(n1.add(n2),n3,this.exact)};this.divide=function(other){return new YRational(this.num.multiply(other.den),this.den.multiply(other.num),this.exact)};this.subtract=function(other){var n1=this.num.multiply(other.den);var n2=this.den.multiply(other.num);return new YRational(n1.subtract(n2),this.den.multiply(other.den),this.exact)};this.multiply=function(other){return new YRational(this.num.multiply(other.num),this.den.multiply(other.den),this.exact)};this.negate=function(){return new YRational(this.num.negate(),this.den,this.exact)};this.reciprocal=function(){return new YRational(this.den,this.num,this.exact)};this.toFloat=function(){return this.num.divide(this.den)};this.floor=function(){return this.toFloat().floor()};this.ceil=function(){return this.toFloat().ceil()};this.isInteger=function(){return false};this.zero_equal=function(){return this.num.zero_equal()&&this.den.zero_equal()};this.modulo=function(other){throw new Error("todo")};this.sinh=function(){return new YRational(this.toFloat().sinh(),this.den.construct(1),false)};this.cosh=function(){return new YRational(this.toFloat().cosh(),this.den.construct(1),false)};this.atan2=function(other){return new YRational(this.den.atan2(this.num),this.den.construct(1),false)};this.sqrt=function(other){return new YRational(this.toFloat().sqrt(),this.den.construct(1),false)};this.log=function(other){return new YRational(this.toFloat().log(),this.den.construct(1),false)};this.format=function(fmt){var sep="/";var limit=0;var proper=true;var xflag="*";if(arguments.length==0){fmt={base:10,real:{mode:0}}}return this.num.format(fmt)+sep+this.den.format(fmt)+(this.exact?"":xflag)};this.num=num;this.den=den;if(arguments.length<3){exact=true}this.exact=exact==true?this.num.isInteger()&&this.den.isInteger():false;if(this.den<0){this.num=this.num.negate();this.den=this.den.negate()}if(this.exact){var g=this.gcd(this.num.abs(),this.den);this.num=this.num.divide(g);this.den=this.den.divide(g)}}if(typeof exports!=="undefined"){exports.YRational=YRational}function YComplex(re,im){this.re=re;this.im=im;this.argument=function(){return this.im.atan2(this.re)};this.modulus=function(){var re2=this.re.multiply(this.re);var im2=this.im.multiply(this.im);return re2.add(im2).sqrt()};this.add=function(other){return new YComplex(this.re.add(other.re),this.im.add(other.im))};this.negate=function(){return new YComplex(this.re.negate(),this.im.negate())};this.subtract=function(other){return this.add(other.negate())};this.multiply=function(other){var a=this.re.multiply(other.re).subtract(this.im.multiply(other.im));var b=this.im.multiply(other.re).add(this.re.multiply(other.im));return new YComplex(a,b)};this.divide=function(other){var q=other.re.multiply(other.re).add(other.im.multiply(other.im));var a=this.re.multiply(other.re).add(this.im.multiply(other.im));var b=this.im.multiply(other.re).subtract(this.re.multiply(other.im));return new YComplex(a.divide(q),b.divide(q))};this.reciprocal=function(){var q=this.re.multiply(this.re).add(this.im.multiply(this.im));return new YComplex(this.re.divide(q),this.im.divide(q).negate())};this.log=function(){return new YComplex(this.modulus().log(),this.argument())};this.exp=function(){var a=new YComplex(this.re.exp(),this.im.construct(0));var b=new YComplex(this.im.cos(),this.im.sin());return a.multiply(b)};this.sin=function(){return new YComplex(this.re.sin().multiply(this.im.cosh()),this.re.cos().multiply(this.im.sinh()))};this.cos=function(){return new YComplex(this.re.cos().multiply(this.im.cosh()),this.re.sin().multiply(this.im.sinh()).negate())};this.tan=function(){return this.sin().divide(this.cos())};this.sqrt=function(){var TWO=new YComplex(this.re.construct(2),this.im.construct(0));return this.power(TWO.reciprocal())};this.acos=function(){var I=new YComplex(this.re.construct(0),this.im.construct(1));var ONE=new YComplex(this.re.construct(1),this.im.construct(0));var z2=this.multiply(this);var c=ONE.subtract(z2);var b=I.multiply(c.sqrt());var a=this.add(b);return a.log().divide(I)};this.asin=function(){var PI_TWO=new YComplex(this.re.construct(Math.PI/2),this.im.construct(0));return PI_TWO.subtract(this.acos())};this.atan=function(){var I=new YComplex(this.re.construct(0),this.im.construct(1));var TWO=new YComplex(this.re.construct(2),this.im.construct(0));var a1=I.subtract(this);var a2=I.add(this);var a=a1.divide(a2).log();var b=TWO.multiply(I);return a.divide(b)};this.power=function(other){return other.multiply(this.log()).exp()};this.conjugate=function(){return new YComplex(this.re,this.im.negate())};this.isInteger=function(){return false};this.zero_equal=function(){return this.re.zero_equal&&this.im.zero_equal};this.modulo=function(other){throw new Error("todo")};this.format=function(fmt){var re_s=this.re.format(fmt);var im_s=this.im.format(fmt);var s=re_s;s+=this.im<0?"":"+";s+=im_s;s+="i";return s}}if(typeof exports!=="undefined"){exports.YComplex=YComplex}if(typeof exports!=="undefined"){var YReal_p=require("yreal");var YRational_p=require("yrational");var YComplex_p=require("ycomplex");var YReal=YReal_p.YReal;var YRational=YRational_p.YRational;var YComplex=YComplex_p.YComplex}function YNumber(){this.coerce=function(x,y){if(x instanceof YComplex){if(y instanceof YComplex){}else if(y instanceof YRational){y=new YComplex(new YRational(y.num,y.den),new YRational(new YReal(0),new YReal(1)))}else if(y instanceof YReal){y=new YComplex(y,new YReal(0))}else{throw new Error("unsupported coersion from "+JSON.stringify(y))}}else if(x instanceof YRational){if(y instanceof YComplex){x=new YComplex(new YRational(x.num,x.den),new YRational(new YReal(0),new YReal(1)))}else if(y instanceof YRational){}else if(y instanceof YReal){y=new YRational(y,new YReal(1))}else{throw new Error("unsupported coersion from "+JSON.stringify(y))}}else if(x instanceof YReal){if(y instanceof YComplex){x=new YComplex(x,new YReal(0))}else if(y instanceof YRational){x=new YRational(x,new YReal(1))}else if(y instanceof YReal){}else{throw new Error("unsupported coersion from "+JSON.stringify(y))}}else{throw new Error("unsupported coersion to "+JSON.stringify(x))}if(x.constructor.name!=y.constructor.name){throw new Error("internal coercion error")}return[x,y]};this.binop=function(x,y,func){if(!x instanceof YNumber){throw new Error("!x instanceof YNumber")}if(!y instanceof YNumber){throw new Error("!y instanceof YNumber")}var xy=this.coerce(x.n,y.n);x=xy[0];y=xy[1];var z=x[func](y);return new YNumber(z)};this.add=function(other){return this.binop(this,other,"add")};this.negate=function(){return new YNumber(this.n.negate())};this.subtract=function(other){return this.binop(this,other,"subtract")};this.multiply=function(other){return this.binop(this,other,"multiply")};this.divide=function(other){return this.binop(this,other,"divide")};this.reciprocal=function(){return new YNumber(this.n.reciprocal())};this.log=function(){return new YNumber(this.n.log())};this.exp=function(){return new YNumber(this.n.exp())};this.sin=function(){return new YNumber(this.n.sin())};this.cos=function(){return new YNumber(this.n.cos())};this.tan=function(){return new YNumber(this.n.tan())};this.sqrt=function(){return new YNumber(this.n.sqrt())};this.acos=function(){return new YNumber(this.n.acos())};this.asin=function(){return new YNumber(this.n.asin())};this.atan=function(){return new YNumber(this.n.atan())};this.pow=function(other){return this.binop(this,other,"pow")};this.log10=function(){return new YNumber(this.n.log10())};this.floor=function(){return new YNumber(this.n.floor())};this.ceil=function(){return new YNumber(this.n.ceil())};this.abs=function(){return new YNumber(this.n.abs())};this.PI=function(){return new YNumber(this.n.PI())};this.and=function(other){return this.binop(this,other,"and")};this.or=function(other){return this.binop(this,other,"or")};this.xor=function(other){return this.binop(this,other,"xor")};this.invert=function(){return new YNumber(this.n.invert())};this.isInteger=function(){return this.n.isInteger()};this.zero_equal=function(){return this.n.zero_equal()};this.modulo=function(other){return new YNumber(this.n.modulo())};this.toFloat=function(){return new YNumber(this.n.toFloat())};this.sinh=function(){return new YNumber(this.n.sinh())};this.cosh=function(){return new YNumber(this.n.cosh())};this.atan2=function(other){return this.binop(this,other,"atan2")};this.value=function(){return this.n.value()};this.default_format={base:10,real:{mode:0,prec:4},rational:{sep1:" ",sep2:"/",limit:0,proper:true,xflag:"*"},complex:{s:"+",i:"i"}};this.format=function(fmt){if(arguments.length==0){fmt=this.default_format}var s=this.n.format(fmt);return s};switch(arguments.length){case 1:if(arguments[0]instanceof YNumber){this.n=arguments[0].n}else if(arguments[0]instanceof YReal){this.n=arguments[0]}else if(arguments[0]instanceof YRational){this.n=arguments[0]}else if(arguments[0]instanceof YComplex){this.n=arguments[0]}else{this.n=new YReal(arguments[0])}break;case 2:this.n=new YRational(new YReal(arguments[0]),new YReal(arguments[1]));break;case 3:this.n=new YComplex(new YReal(arguments[1]),new YReal(arguments[2]));break;case 4:this.n=new YComplex(new YRational(new YReal(arguments[0]),new YReal(arguments[1])),new YRational(new YReal(arguments[2]),new YReal(arguments[3])));break;default:throw new Error("oops");break}}if(typeof exports!=="undefined"){exports.YNumber=YNumber}function YRX(setup){this.version="YRX v0.2.0";this.config=setup.config;this.vm=setup.vm;this.num=setup.num;this.fclear=function(desc,action){this.vm.reset();this.state.edit="";this.state.error="";this.state.modifier="";this.state.angle="";this.state.base="";view_model.m("");this.updateDisplay()};this.ke={kind:["shift","op","dialog","digit","edit"],dialog:["about","config","edit_key"],edit:["enter","backspace","fclear","chs"]};this.state={edit:new String,editing:false,edit_base:0,modifier:"",error:"",prev_shift:"",keypad:"",keyidx:-1,base:"",angle:"",display:"float",digits:4};this.exec=function(name){this.vm.evaluate(name,this.config.step_limit);if(this.vm.busy){console.log("step limit exceeded")}};this.noop=function(desc,action){return false};this.shift=function(desc,action){var name=desc.arg;var keypad=this.config.keypad[name];var i;if(keypad==null){console.log("keypad name '"+name+"' is not defined");return}for(i=0;i<keypad.length;i++){var newdesc=this.config.desc[keypad[i]];view_model.k(i,newdesc.label,name)}while(i<this.config.keypad.default.length){view_model.k(i,"",name);i++}view_model.a(11,name=="default"?"":name);if(i>this.config.keypad.default.length){console.log("keypad "+name+" ("+i+") too long")}return false};this.modifier=function(desc,action){this.state.modifier=desc.arg;return false};this.backspace=function(desc,action){var state=this.state;if(state.edit.length>0){state.edit=state.edit.slice(0,-1);view_model.d(-1,state.edit)}return false};this.enter=function(desc,action){var update=false;if(this.state.editing>0){update=this.pushEdit()}else{this.exec("fdup");update=true}return update};this.chs=function(desc,action){var update=false;if(this.state.editing>0){var exp=-1;if(this.state.edit_base==10){exp=this.state.edit.indexOf("e")}if(exp>=0&&this.state.edit.length>exp){if(this.state.edit.charAt(exp+1)=="-"){var before=this.state.edit.slice(0,exp+1);var after=this.state.edit.slice(exp+2);this.state.edit=before+after}else{var before=this.state.edit.slice(0,exp+1);var after=this.state.edit.slice(exp+1);this.state.edit=before+"-"+after}}else{if(this.state.edit.charAt(0)=="-"){this.state.edit=this.state.edit.slice(1)}else{this.state.edit="-"+this.state.edit}}view_model.d(-1,this.state.edit)}else{this.exec("fnegate");update=true}return update};this.digit=function(desc,action){if(this.state.editing==false){this.state.editing=true;for(var i=1;i<this.config.num_display;i++){view_model.d(i-1,view_model.d(i))}this.state.edit_base=this.vm.lookup("base")}this.state.edit+=desc.arg;view_model.d(-1,this.state.edit);return false};this.edit=function(desc,action){return this[desc.arg](desc,action)};this.op=function(desc,action){var valid=false;if(this.state.editing>0){valid=this.pushEdit()}else{valid=true}if(valid){this.exec(desc.arg);this.state.prev_shift="";this.shift({arg:"default"})}return true};this.operation=function(entry,action){var keypad=entry[0];var keyidx=entry[1];var descidx=this.config.keypad[keypad][keyidx];var desc=this.config.desc[descidx];var is_shift=desc.op=="shift";var normal=true;this.state.keypad=keypad;this.state.keyidx=keyidx;if(this.state.modifier!=""){if(is_shift){normal=desc.arg!=this.state.prev_shift;this.state.prev_shift=desc.arg}else{normal=false}}if(normal){if(this[desc.op](desc,action)){this.updateDisplay()}}else{switch(this.state.modifier){case"k":view_model.edit_key(entry,desc);break;case"?":break;default:break}this.state.prev_shift="";this.state.modifier=""}var b=this.vm.lookup("base");this.state.base=b==10?"":b;switch(this.vm.lookup("angle-mode")){case 0:this.state.angle="r";break;case 1:this.state.angle="";break;case 2:this.state.angle="g";break;default:this.state.angle="?";break}view_model.a(0,this.state.error);view_model.a(1,this.state.modifier);view_model.a(2,this.state.base);view_model.a(3,this.state.angle)};this.dialog=function(desc,action){view_model[desc.arg].v(true);return false};this.convertNumeric=function(str){var v;if(this.state.edit_base==10){v=parseFloat(str)}else{v=parseInt(str,this.state.edit_base)}return v};this.pushEdit=function(){var valid=false;if(this.state.edit.length>0){var v=this.convertNumeric(this.state.edit);valid=v!=NaN;if(valid){this.vm.f.push(new YNumber(v));this.vm.evaluate("fdup lastx f!")}else{this.state.error="!"}}else{valid=true}if(valid){this.state.edit="";this.state.editing=false}return valid};this.updateDisplay=function(){var n=this.config.num_display;var fmt={base:this.vm.lookup("base"),real:{mode:this.vm.lookup("display-num-mode"),prec:this.vm.lookup("display-num-arg")},rational:{sep1:" ",sep2:"/",limit:0,proper:true,xflag:"*"},complex:{s:"+",i:"i"}};for(var i=0;i<n;i++){var pidx=this.vm.f.length-n+i;if(pidx>=0&&pidx<this.vm.f.length){view_model.d(i,""+this.vm.f[pidx].format(fmt))}else{view_model.d(i,"")}}};this.stackError=function(){console.log("stack error")};this.init=function(){for(var i=0;i<this.config.init.length;i++){var line=this.config.init[i];ok=this.vm.evaluate(line);if(ok==false){view_model.m(line+":"+vm.e)}}return this}}if(typeof exports!=="undefined"){exports.YRX=YRX}if(typeof exports!=="undefined"){var YNumber_p=require("ynumber");var YNumber=YNumber_p.YNumber}function YVM(){this.version="YVM v0.2.0";this.p=[];this.r=[];this.c=[];this.f=[];this.m=[];this.dp=0;this.e="";this.v=false;this.wp;this.ip;this.rp;this.busy=false;this.re_f=/e/;this.name="";this.body=[];this.state=false;this.parse={b:0,d:0,e:0,end:0,w:"",s:"",re_s:/\s/,re_w:/\S/};this.colon=function(){this.parse_unique_name();this.interp="colon";this.state=true};this.semis=function(){this.dict[this.name]={kind:this.interp,defn:this.body};this.state=false};this.code=function(){this.parse_unique_name();this.interp="code";this.state=true};this.end_code=function(){this.semis()};this.constant=function(){this.parse_unique_name();this.dict[this.name]={kind:"constant",defn:this.p.pop()}};this.variable=function(){this.parse_unique_name();this.dict[this.name]={kind:"variable",defn:this.dp};this.dp+=1};this.fconstant=function(){this.parse_unique_name();this.dict[this.name]={kind:"fconstant",defn:this.f.pop()}};this.allot=function(){this.dp+=this.p.pop()};this.vm_dup=function(){var x=this.p.pop();this.p.push(x);this.p.push(x)};this.vm_plus=function(){var x=this.p.pop();var y=this.p.pop();this.p.push(x+y)};this.vm_literal=function(){this.ip+=1;this.p.push(this.comp[this.wp][this.ip])};this.vm_exit=function(){if(this.r.length>0){var rtn=this.r.pop();this.wp=rtn[0];this.ip=rtn[1]}else{this.busy=false}};this.vm_fetch=function(){var x=this.p.pop();this.p.push(this.m[x])};this.vm_store=function(){var x=this.p.pop();var y=this.p.pop();this.m[x]=y};this.vm_ffetch=function(){var x=this.p.pop();this.f.push(this.m[x])};this.vm_fstore=function(){var x=this.p.pop();var y=this.f.pop();this.m[x]=y};this.vm_fdup=function(){var x=this.f.pop();this.f.push(x);this.f.push(x)};this.vm_fplus=function(){var x=this.f.pop();var y=this.f.pop();this.f.push(x.add(y))};this.vm_fminus=function(){var x=this.f.pop();var y=this.f.pop();this.f.push(y.subtract(x))};this.vm_fstar=function(){var x=this.f.pop();var y=this.f.pop();this.f.push(x.multiply(y))};this.vm_fdiv=function(){var x=this.f.pop();var y=this.f.pop();this.f.push(y.divide(x))};this.vm_fliteral=function(){this.ip+=1;this.f.push(new YNumber(this.comp[this.wp][this.ip]))};this.vm_fsqrt=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].sqrt()};this.vm_fexp=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].exp()};this.vm_fln=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].log()};this.vm_fpow=function(){var x=this.f.pop();var y=this.f.pop();this.f.push(y.pow(x))};this.vm_frecip=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].reciprocal()};this.vm_froll=function(){var n=this.p.pop();if(n>0){var tmp=this.f[this.f.length-n-1];for(var i=this.f.length-n;i<this.f.length;i++){this.f[i-1]=this.f[i]}this.f[this.f.length-1]=tmp}else if(n<0){var tmp=this.f[this.f.length-1];for(var i=this.f.length-2;i>this.f.length+n-2;i--){this.f[i+1]=this.f[i]}this.f[this.f.length+n-1]=tmp}};this.vm_fsin=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].sin()};this.vm_fcos=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].cos()};this.vm_ftan=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].tan()};this.vm_fasin=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].asin()};this.vm_facos=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].acos()};this.vm_fatan=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].atan()};this.vm_fsinh=function(){this.vm_fdup();this.vm_fexp();this.p.push(1);this.vm_froll();this.vm_fnegate();this.vm_fexp();this.vm_fminus();this.f.push(new YNumber(2));this.vm_fdiv()};this.vm_fcosh=function(){this.vm_fdup();this.vm_fexp();this.p.push(1);this.vm_froll();this.vm_fnegate();this.vm_fexp();this.vm_fplus();this.f.push(new YNumber(2));this.vm_fdiv()};this.vm_ftanh=function(){this.vm_fdup();this.vm_fplus();this.vm_fexp();this.vm_fdup();this.f.push(new YNumber(-1));this.vm_fplus();this.p.push(1);this.vm_froll();this.f.push(new YNumber(1));this.vm_fplus();this.vm_fdiv()};this.vm_fasinh=function(){this.vm_fdup();this.vm_fdup();this.vm_fstar();this.f.push(new YNumber(1));this.vm_fplus();this.vm_fsqrt();this.vm_fplus();this.vm_fln()};this.vm_facosh=function(){this.vm_fdup();this.vm_fdup();this.f.push(new YNumber(-1));this.vm_fplus();this.vm_fsqrt();this.p.push(1);this.vm_froll();this.f.push(new YNumber(1));this.vm_fplus();this.vm_fsqrt();this.vm_fstar();this.vm_fplus();this.vm_fln()};this.vm_fatanh=function(){this.vm_fdup();this.f.push(new YNumber(1));this.vm_fplus();this.p.push(1);this.vm_froll();this.vm_fnegate();this.f.push(new YNumber(1));this.vm_fplus();this.vm_fdiv();this.vm_fln();this.f.push(new YNumber(2));this.vm_fdiv()};this.vm_fnegate=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].negate()};this.vm_flog=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].log();this.f.push(new YNumber(Math.log(10)));this.vm_fdiv()};this.vm_floor=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].floor()};this.vm_fceil=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].ceil()};this.vm_fabs=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].abs()};this.vm_fpi=function(){var tos=this.f.length-1;this.f.push(new YNumber(Math.PI))};this.vm_fand=function(){var x=this.f.pop();var y=this.f.pop();this.f.push(x.and(y))};this.vm_f_or=function(){var x=this.f.pop();var y=this.f.pop();this.f.push(x.or(y))};this.vm_fxor=function(){var x=this.f.pop();var y=this.f.pop();this.f.push(x.xor(y))};this.vm_finvert=function(){var tos=this.f.length-1;this.f[tos]=this.f[tos].invert()};this.vm_f_to_s=function(){this.p.push(this.f.pop().floor().value())};this.vm_rational=function(){var den=this.f.pop().value();var num=this.f.pop().value();this.f.push(new YNumber(num,den))};this.vm_complex=function(){var im=this.f.pop().value();var re=this.f.pop().value();this.f.push(new YNumber("c",re,im))};this.dict={":":{kind:"primitive",defn:"colon"},";":{kind:"primitive",defn:"semis",immediate:true},code:{kind:"primitive",defn:"code"},"end-code":{kind:"primitive",defn:"end_code",immediate:true},constant:{kind:"primitive",defn:"constant"},variable:{kind:"primitive",defn:"variable"},fconstant:{kind:"primitive",defn:"fconstant"},allot:{kind:"primitive",defn:"allot"},dup:{kind:"primitive",defn:"vm_dup"},"+":{kind:"primitive",defn:"vm_plus"},"f+":{kind:"primitive",defn:"vm_fplus"},"f-":{kind:"primitive",defn:"vm_fminus"},"f*":{kind:"primitive",defn:"vm_fstar"},"f/":{kind:"primitive",defn:"vm_fdiv"},exit:{kind:"primitive",defn:"vm_exit"},"(literal)":{kind:"primitive",defn:"vm_literal"},"(fliteral)":{kind:"primitive",defn:"vm_fliteral"},1:{kind:"constant",defn:1},"1+":{kind:"colon",defn:"1 +"},"@":{kind:"primitive",defn:"vm_fetch"},"!":{kind:"primitive",defn:"vm_store"},fdup:{kind:"primitive",defn:"vm_fdup"},"f@":{kind:"primitive",defn:"vm_ffetch"},"f!":{kind:"primitive",defn:"vm_fstore"},fsqrt:{kind:"primitive",defn:"vm_fsqrt"},fexp:{kind:"primitive",defn:"vm_fexp"},fln:{kind:"primitive",defn:"vm_fln"},"f**":{kind:"primitive",defn:"vm_fpow"},"1/f":{kind:"primitive",defn:"vm_frecip"},froll:{kind:"primitive",defn:"vm_froll"},fswap:{kind:"colon",defn:"1 froll"},fsin:{kind:"primitive",defn:"vm_fsin"},fcos:{kind:"primitive",defn:"vm_fcos"},ftan:{kind:"primitive",defn:"vm_ftan"},fasin:{kind:"primitive",defn:"vm_fasin"},facos:{kind:"primitive",defn:"vm_facos"},fatan:{kind:"primitive",defn:"vm_fatan"},fsinh:{kind:"primitive",defn:"vm_fsinh"},fcosh:{kind:"primitive",defn:"vm_fcosh"},ftanh:{kind:"primitive",defn:"vm_ftanh"},fasinh:{kind:"primitive",defn:"vm_fasinh"},facosh:{kind:"primitive",defn:"vm_facosh"},fatanh:{kind:"primitive",defn:"vm_fatanh"},fswap:{kind:"colon",defn:"1 froll"},fnegate:{kind:"primitive",defn:"vm_fnegate"},flog:{kind:"primitive",defn:"vm_flog"},floor:{kind:"primitive",defn:"vm_floor"},fceil:{kind:"primitive",defn:"vm_fceil"},fabs:{kind:"primitive",defn:"vm_fabs"},fpi:{kind:"primitive",defn:"vm_fpi"},fand:{kind:"primitive",defn:"vm_fand"},"f-or":{kind:"primitive",defn:"vm_f_or"},fxor:{kind:"primitive",defn:"vm_fxor"},finvert:{kind:"primitive",defn:"vm_finvert"},"f>s":{kind:"primitive",defn:"vm_f_to_s"},rational:{kind:"primitive",defn:"vm_rational"},complex:{kind:"primitive",defn:"vm_complex"}};this.comp={};this.xword=function(w){var entry=this.dict[w];if(entry!=null){switch(entry.kind){case"primitive":this[entry.defn]();break;case"colon":this.r.push([this.wp,this.ip]);this.wp=w;this.ip=-1;break;case"variable":this.p.push(entry.defn);break;case"constant":this.p.push(entry.defn);break;case"fconstant":this.f.push(new YNumber(entry.defn));break;case"code":for(var i=0;i<entry.defn.length;i++){global[entry.defn[i]](this)}break;default:throw new Error("YVM unknown kind");break}}else{throw new Error("? '"+w+"' at "+this.ip)}};this.compile=function(name){if(this.comp[name]!=null){return}var entry=this.dict[name];var a=typeof entry.defn=="string"?entry.defn.split(/\s/):entry.defn;var c=[];for(var i=0;i<a.length;i++){var entry=this.dict[a[i]];if(entry==null){var is_float=this.re_f.test(a[i]);if(is_float){c.push("(fliteral)");c.push(parseFloat(a[i]))}else{c.push("(literal)");c.push(parseInt(a[i]))}}else if(entry.immediate!=null){throw new Error("immediate not supported yet")}else{c.push(a[i])}}if(c[c.length-1]!="exit"){c.push("exit")}this.comp[name]=c};this.init=function(name){this.wp=name;this.ip=0;this.busy=true};this.step=function(){if(this.ip==0){this.compile(this.wp)}this.xword(this.comp[this.wp][this.ip]);this.ip+=1};this.reset=function(){this.p.length=0;this.r.length=0;this.c.length=0;this.f.length=0;this.wp=undefined;this.ip=undefined;this.rp=undefined;this.busy=false};this.run=function(name,limit){this.init(name);var entry=this.dict[name];switch(entry.kind){case"colon":for(var i=0;i<limit;i++){this.step();if(!this.busy){break}}break;default:this.xword(name);this.busy=false;break}};this.parse_word=function(){var parsed=false;this.parse.w="";while(this.parse.b<this.parse.end&&this.parse.re_s.test(this.parse.s.charAt(this.parse.b))){this.parse.b++}for(;;){var c=this.parse.s.charAt(this.parse.b);if(this.parse.re_w.test(c)){this.parse.w+=c;this.parse.b++}else{break}}parsed=this.parse.w.length>0;return parsed};this.parse_unique_name=function(){if(!this.parse_word()){throw new Error("parse underflow")}var name=this.parse.w;if(this.dict[name]!=undefined){throw new Error("dup name '"+name+"'")}this.name=name};this._evaluate=function(s,limit){this.parse.s=s;this.parse.b=0;this.parse.end=s.length;this.body=[];var elimit=1e5;while(this.parse.b<this.parse.end){if(elimit--<1){throw new Error("oops")}if(!this.parse_word()){break}var entry=this.dict[this.parse.w];if(entry==undefined){var n=this.parse.w;var is_float=this.re_f.test(n);if(this.state==true){this.body.push(n)}else{if(is_float){this.f.push(new YNumber(parseFloat(n)))}else{this.p.push(parseInt(n))}}}else{var compile=entry.immediate==undefined&&this.state==true;if(compile){this.body.push(this.parse.w)}else{this.run(this.parse.w,limit)}}}};this.evaluate=function(s,limit){var ok=false;if(arguments.length<2){limit=1e3}try{this._evaluate(s,limit);ok=true;this.e=undefined}catch(e){if(this.v){console.log("Throws "+e)}this.busy=false;this.state=false;this.e=e.message}return ok};this.lookup=function(name){var val=null;var entry=this.dict[name];if(entry!=undefined){switch(entry.kind){case"constant":val=entry.defn;break;case"fconstant":val=entry.defn;break;case"variable":val=this.m[entry.defn];break}}return val}}if(typeof exports!=="undefined"){exports.YVM=YVM}var Model=function(calc){this.m=function(s){this.message(s)};this.k=function(idx,label,keymap){this.key[idx].label(label);this.key[idx].value=[keymap,idx]};this.d=function(idx,val){if(idx<0){idx=this.display().length+idx}switch(arguments.length){case 1:return this.display()[idx].value();break;case 2:this.display()[idx].value(val);break;default:throw new Error("oops");break}};this.a=function(idx,label){this.annunciator[idx].label(label)};this.edit_key=function(entry,desc){this.key_editor.current.entry=entry;this.key_editor.current.label(desc.label);this.key_editor.v(true);this.key_editor.current.v(true)};this.display=ko.observableArray();for(var i=0;i<calc.config.num_display;i++){this.display.push({value:ko.observable()})}this.annunciator=[];for(var i=0;i<calc.config.num_annunciator;i++){this.annunciator.push({label:ko.observable()})}this.key=[];for(var i=0;i<calc.config.keypad.default.length;i++){var desc=calc.config.desc[calc.config.keypad.default[i]];this.key.push({label:ko.observable(desc.label),value:["default",i]})}this.op=function(entry,action){calc.operation(entry.value,action)};this.message=ko.observable();this.about_handler=function(){this.about.v(false)};this.about={t1:ko.observable("Config: "+calc.config.version),t2:ko.observable("  Calc: "+calc.version),t3:ko.observable("    VM: "+calc.vm.version),v:ko.observable(false),ok:this.about_handler.bind(this)};this.config_ok=function(){var ok=false;var n=this.config.nd.cur();if(n>=this.config.nd.min&&n<=this.config.nd.max){var changed=false;if(this.display().length<n){while(this.display().length<n){this.display.push({value:ko.observable()})}changed=true}else if(this.display().length>n){while(this.display().length>n){this.display.pop()}changed=true}if(changed){calc.config.num_display=n;calc.updateDisplay()}ok=true}if(ok){this.config_dismiss()}};this.config_dismiss=function(){this.config.v(false)};this.config={nd:{cur:ko.observable(calc.config.num_display),min:1,max:4},v:ko.observable(false),ok:this.config_ok.bind(this),cancel:this.config_dismiss.bind(this)};this.key_editor_ok=function(){switch(this.key_editor.state){case"shift":console.log(JSON.stringify([this.key_editor.shift.label(),this.key_editor.shift.arg()]));break;case"op":console.log(JSON.stringify([this.key_editor.op.label(),this.key_editor.op.arg(),this.key_editor.op.defn()]));break;case"dialog":console.log(JSON.stringify([this.key_editor.dialog.label(),this.key_editor.dialog.arg]));break;case"digit":console.log(JSON.stringify([this.key_editor.digit.label(),this.key_editor.digit.arg()]));break;case"edit":console.log(JSON.stringify([this.key_editor.edit.label(),this.key_editor.edit.arg]));break;default:if(this.key_editor.current.selected.desc_id>=0){var entry=this.key_editor.current.entry;var name=entry[0];var keyidx=entry[1];var desc_id=this.key_editor.current.selected.desc_id;var desc=calc.config.desc[desc_id];calc.config.keypad[name][keyidx]=desc_id;
this.k(keyidx,desc.label,name)}break}this.key_editor_dismiss()};this.key_editor_dismiss=function(){switch(this.key_editor.state){case"shift":this.key_editor.shift.v(false);this.key_editor.current.v(true);this.key_editor.state=null;break;case"op":this.key_editor.op.v(false);this.key_editor.current.v(true);this.key_editor.state=null;break;case"dialog":this.key_editor.dialog.v(false);this.key_editor.current.v(true);this.key_editor.state=null;break;case"digit":this.key_editor.digit.v(false);this.key_editor.current.v(true);this.key_editor.state=null;break;case"edit":this.key_editor.edit.v(false);this.key_editor.current.v(true);this.key_editor.state=null;break;default:this.key_editor.v(false);break}};this.key_editor_create=function(){var selection=this.key_editor.current.selection;this.key_editor.current.v(false);switch(selection){case"shift":this.key_editor.shift.v(true);break;case"op":this.key_editor.op.v(true);break;case"dialog":this.key_editor.dialog.v(true);break;case"digit":this.key_editor.digit.v(true);break;case"edit":this.key_editor.edit.v(true);break}this.key_editor.state=selection};this.key_editor_select=function(entry,action){var desc=calc.config.desc[entry.value];this.key_editor.current.selected.desc_id=entry.value;this.key_editor.current.selected.op(desc.op);this.key_editor.current.selected.arg(desc.arg);this.key_editor.current.selected.help(desc.help)};this.key_editor={creators:ko.observableArray(),dialogs:ko.observableArray(),edit_keys:ko.observableArray(),v:ko.observable(false),ok:this.key_editor_ok.bind(this),cancel:this.key_editor_dismiss.bind(this),message:ko.observable(""),state:null,current:{v:ko.observable(false),label:ko.observable(""),desc:ko.observableArray(),entry:null,selection:-1,selected:{op:ko.observable(),arg:ko.observable(),help:ko.observable(),desc_id:-1},create:this.key_editor_create.bind(this)},shift:{v:ko.observable(false),label:ko.observable(),arg:ko.observable()},op:{v:ko.observable(false),label:ko.observable(),arg:ko.observable(),defn:ko.observable()},dialog:{v:ko.observable(false),label:ko.observable(),arg:""},digit:{v:ko.observable(false),label:ko.observable(),arg:ko.observable()},edit:{v:ko.observable(false),label:ko.observable(),arg:""}};for(var i=0;i<calc.config.desc.length;i++){this.key_editor.current.desc.push({label:calc.config.desc[i].label,value:i,select:this.key_editor_select.bind(this)})}for(var i=0;i<calc.ke.kind.length;i++){this.key_editor.creators.push(calc.ke.kind[i])}for(var i=0;i<calc.ke.dialog.length;i++){this.key_editor.dialogs.push(calc.ke.dialog[i])}for(var i=0;i<calc.ke.edit.length;i++){this.key_editor.edit_keys.push(calc.ke.edit[i])}};function YRX_m32_config(){this.version="Model 32 v0.1.5";this.num_display=2;this.step_limit=100;this.num_annunciator=12;this.desc=[{label:"&#x221a;<i>x</i>",op:"op",arg:"fsqrt",help:"square root"},{label:"<small>e<sup>x</sup></small>",op:"op",arg:"fexp",help:"exponential function"},{label:"ln",op:"op",arg:"fln",help:"natural logarithm"},{label:"<small>y<sup>x</sup></small>",op:"op",arg:"f**",help:"y to the power x"},{label:"<i>1/x</i>",op:"op",arg:"1/f",help:"reciprocal"},{label:"&#931;+",op:"noop",arg:"sigma+",help:"statistics add"},{label:"!",op:"op",arg:"f>s f!",help:"store in memory"},{label:"@",op:"op",arg:"f>s f@",help:"fetch from memory"},{label:"R&#x2193;",op:"op",arg:"4 froll",help:"roll down"},{label:"sin",op:"op",arg:"angle-to-radians fsin",help:"sine"},{label:"cos",op:"op",arg:"angle-to-radians fcos",help:"cosine"},{label:"tan",op:"op",arg:"angle-to-radians ftan",help:"tangent"},{label:"&#x21b2;",op:"edit",arg:"enter",help:"enter or dup number"},{label:"x&#x21c4;y",op:"op",arg:"fswap",help:"swap x and y"},{label:"+/-",op:"edit",arg:"chs",help:"change sign of number"},{label:"?",op:"dialog",arg:"about",help:"about dialog"},{label:"&#926;",op:"dialog",arg:"config",help:"config dialog"},{label:"&#8592",op:"edit",arg:"backspace",help:"erase digit or clear X"},{label:"a",op:"digit",arg:"a",help:"digit 'a'"},{label:"b",op:"digit",arg:"b",help:"digit 'b'"},{label:"7",op:"digit",arg:"7",help:"digit '7'"},{label:"8",op:"digit",arg:"8",help:"digit '8'"},{label:"9",op:"digit",arg:"9",help:"digit '9'"},{label:"/",op:"op",arg:"f/",help:"divide"},{label:"c",op:"digit",arg:"c",help:"digit 'c'"},{label:"d",op:"digit",arg:"d",help:"digit 'd'"},{label:"4",op:"digit",arg:"4",help:"digit '4'"},{label:"5",op:"digit",arg:"5",help:"digit '5'"},{label:"6",op:"digit",arg:"6",help:"digit '6'"},{label:"*",op:"op",arg:"f*",help:"multiply"},{label:"e",op:"digit",arg:"e",help:"digit 'e'"},{label:"f",op:"digit",arg:"f",help:"digit 'f'"},{label:"1",op:"digit",arg:"1",help:"digit '1'"},{label:"2",op:"digit",arg:"2",help:"digit '2'"},{label:"3",op:"digit",arg:"3",help:"digit '3'"},{label:"-",op:"op",arg:"f-",help:"subtract"},{label:"y/x",op:"op",arg:"rational",help:"x/y"},{label:"y+xi",op:"op",arg:"complex",help:"x+yi"},{label:"clr",op:"edit",arg:"fclear",help:"clear stacks"},{label:"0",op:"digit",arg:"0",help:"digit '0'"},{label:".",op:"digit",arg:".",help:"decimal point"},{label:"+",op:"op",arg:"f+",help:"add"},{label:"F",op:"shift",arg:"f",help:"shift F"},{label:"G",op:"shift",arg:"g",help:"shift G"},{label:"H",op:"shift",arg:"h",help:"shift H"},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"<small>x<sup>2</sup></small>",op:"op",arg:"fdup f*",help:"square X"},{label:"<small>10<sup>x</sup></small>",op:"op",arg:"10.0e0 f**",help:"X to the 10th power"},{label:"log",op:"op",arg:"flog",help:"common logarithm"},{label:"<small><i>x</i></small><sub>&#x221a;<i>y</i></sub>",op:"op",arg:"1/f f**",help:"Xth root of Y"},{label:"x!",op:"noop",arg:"factorial",help:"factorial"},{label:"&#931;-",op:"noop",arg:"sigma-",help:"statistics subtract"},{label:"&#8736;r",op:"op",arg:"radians",help:"angle mode radians"},{label:"rnd",op:"noop",arg:"frand",help:"random number [0..1)"},{label:"&#8736;g",op:"op",arg:"grads",help:"angle mode grads"},{label:"<small>sin<sup>-1</sup></small>",op:"op",arg:"fasin radians-to-angle",help:"inverse sine"},{label:"<small>cos<sup>-1</sup></small>",op:"op",arg:"facos radians-to-angle",help:"inverse cosine"},{label:"<small>tan<sup>-1</sup></small>",op:"op",arg:"fatan radians-to-angle",help:"inverse tangent"},{label:"lastx",op:"op",arg:"lastx f@",help:"last X entered"},{label:"mem",op:"dialog",arg:"mem",help:"memory dialog"},{label:"&#8736;d",op:"op",arg:"degrees",help:"angle mode degree"},{label:"all",op:"op",arg:"display-all",help:"show full precision"},{label:"&#8709;a",op:"noop",arg:"clear_all",help:"clear all"},{label:"&#8709;X",op:"noop",arg:"clear_x",help:"clear X"},{label:"K",op:"modifier",arg:"k",help:"key editor"},{label:"&#8709;p",op:"noop",arg:"clear_pgm",help:"clear program"},{label:"&#8709;S",op:"noop",arg:"clear_sigma",help:"clear statistics"},{label:"&#8709;V",op:"noop",arg:"clear_vars",help:"clear variables"},{label:"dec",op:"op",arg:"decimal",help:"base 10"},{label:"oct",op:"op",arg:"octal",help:"base 8"},{label:"bin",op:"op",arg:"binary",help:"base 2"},{label:"hex",op:"op",arg:"hex",help:"base 16"},{label:"&#8594;&#952;,r",op:"noop",arg:">polar",help:"rectangular to polar"},{label:"&#8594;hr",op:"noop",arg:">hour",help:"to hours"},{label:"&#8594;&#176;",op:"noop",arg:">degree",help:"to degrees"},{label:"ip",op:"op",arg:"floor",help:"integer part"},{label:"fp",op:"op",arg:"fdup floor f-",help:"fractional part"},{label:"|x|",op:"op",arg:"fabs",help:"absolute value"},{label:"&#8594;kg",op:"noop",arg:">kg",help:"to kilograms"},{label:"&#8594;&#176;C",op:"noop",arg:">celsius",help:"to celsius"},{label:"&#8594;cm",op:"noop",arg:">cm",help:"to centimeters"},{label:"&#8594;l",op:"noop",arg:">liters",help:"to liters"},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"fix",op:"op",arg:"display-fix",help:"display fixed N after decimal"},{label:"eng",op:"op",arg:"display-eng",help:"display engineering N after decimal"},{label:"<small>a/b/c</small>",op:"noop",arg:"fdisp",help:"toggle fraction display"},{label:"Cn,r",op:"noop",arg:"Cn,r",help:"N combinations taken r at a time"},{label:"F",op:"shift",arg:"default",help:"unshift F"},{label:"G",op:"shift",arg:"g",help:"shift G"},{label:"H",op:"shift",arg:"h",help:"shift H"},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"Pn,r",op:"noop",arg:"Pn,r",help:"N permutations taken r at a time"},{label:"SD",op:"noop",arg:"seed",help:"random seed"},{label:"sci",op:"op",arg:"display-sci",help:"display scientific N digits after decimal"},{label:"&#931;n",op:"noop",arg:"sigma_n",help:"number of data points"},{label:"&#931;x",op:"noop",arg:"sigma_x",help:"Sum of x values"},{label:"&#931;y",op:"noop",arg:"sigma_y",help:"sum of y values"},{label:"<small>&#931;x<sup>2</sup></small>",op:"noop",arg:"sigma_x2",help:"sum of squared x values"},{label:"<small>&#931;y<sup>2</sup></small>",op:"noop",arg:"sigma_y2",help:"sum of squared y values"},{label:"R&#8593",op:"op",arg:"-4 froll",help:"roll top 4 stack values down"},{label:"&#960;",op:"op",arg:"fpi",help:"value of PI"},{label:"%",op:"op",arg:"100.0e0 f/ f*",help:"X percent of Y"},{label:"%chg",op:"noop",arg:"percent_chg",help:"X changed percent of Y"},{label:"show",op:"noop",arg:"show",help:"show full value of X as message"},{label:"x&#x21c4;",op:"op",arg:"f>s dup f@ fswap f!",help:"swap X with mem"},{label:"LRx",op:"noop",arg:"lr_x",help:"estimate x"},{label:"LRy",op:"noop",arg:"lr_y",help:"estimate y"},{label:"LRr",op:"noop",arg:"lr_r",help:"correlation"},{label:"LRm",op:"noop",arg:"lr_m",help:"slope"},{label:"LRb",op:"noop",arg:"lr_b",help:"y intercept"},{label:"_x",op:"noop",arg:"mean_x",help:"mean of X"},{label:"_y",op:"noop",arg:"mean_y",help:"mean of y"},{label:"_xw",op:"noop",arg:"mean_xw",help:"y weighted mean of x"},{label:"sx",op:"noop",arg:"sx",help:"sample standard deviation of x"},{label:"sy",op:"noop",arg:"sy",help:"sample standard deviation of y"},{label:"ox",op:"noop",arg:"ox",help:"population standard deviation of x"},{label:"oy",op:"noop",arg:"oy",help:"population standard deviation of y"},{label:"&#8594;y,x",op:"noop",arg:">rectangular",help:"polar to rectanglular"},{label:"&#8594;hms",op:"noop",arg:">hms",help:"to HH.MMSS"},{label:"&#8594;rad",op:"noop",arg:">RAD",help:"to radians"},{label:"&#931;xy",op:"noop",arg:"sigma_xy",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"&#8594;lb",op:"noop",arg:">lbs",help:"to pounds"},{label:"&#8594;&#176;F",op:"noop",arg:">fahrenheit",help:""},{label:"&#8594;in",op:"noop",arg:">in",help:"to inches"},{label:"&#8594;gal",op:"noop",arg:">gal",help:"to gallons"},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"view",op:"noop",arg:"view",help:"view variable as message"},{label:"/c",op:"noop",arg:"set_denominator",help:"set fractional denominator"},{label:"",op:"noop",arg:"",help:""},{label:"F",op:"shift",arg:"f",help:"shift F"},{label:"G",op:"shift",arg:"default",help:"unshift G"},{label:"H",op:"shift",arg:"h",help:"shift H"},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"cosh",op:"op",arg:"fcosh",help:"hyperbolic cosine"},{label:"sinh",op:"op",arg:"fsinh",help:"hyperbolic sine"},{label:"tanh",op:"op",arg:"ftanh",help:"hyperbolic tangent"},{label:"<small>cosh<sup>-1</sup></small>",op:"op",arg:"facosh",help:"inverse hyperbolic cosine"},{label:"<small>sinh<sup>-1</sup></small>",op:"op",arg:"fasinh",help:"inverse hyperbolic sine"},{label:"<small>tanh<sup>-1</sup></small>",op:"op",arg:"fatanh",help:"inverse hyperbolic tangent"},{label:"i+/-",op:"noop",arg:"complex_chs",help:"complex change sign"},{label:"i+",op:"noop",arg:"complex+",help:"complex +"},{label:"i-",op:"noop",arg:"complex-",help:"complex -"},{label:"i*",op:"noop",arg:"complex*",help:"complex multiply"},{label:"i/",op:"noop",arg:"complex/",help:"complex divide"},{label:"1/i",op:"noop",arg:"complex/x",help:"complex reciprocal"},{label:"<small><i>i</i>e<sup>x</sup><small>",op:"noop",arg:"complex-exp",help:"complex exponential"},{label:"iln",op:"noop",arg:"complex-ln",help:"complex logarithm"},{label:"iy<sup>x</sup>",op:"noop",arg:"complex_power",help:"complex power"},{label:"icos",op:"noop",arg:"complex_cos",help:"complex cosine"},{label:"isin",op:"noop",arg:"complex_sin",help:"complex sine"},{label:"itan",op:"noop",arg:"complex_tan",help:"complex tangent"},{label:"pgm",op:"edit",arg:"program",help:""},{label:"run",op:"edit",arg:"run",help:""},{label:"@+",op:"op",arg:"f>s f@ f+",help:"fetch and add"},{label:"@-",op:"op",arg:"f>s f@ f-",help:"fetch and subtract"},{label:"@*",op:"op",arg:"f>s f@ f*",help:"fetch and multiply"},{label:"@/",op:"op",arg:"f>s f@ f/",help:"fetch and divide"},{label:"+!",op:"op",arg:"f+!",help:"add to memory"},{label:"-!",op:"op",arg:"f-!",help:"subtract from memory"},{label:"*!",op:"op",arg:"f*!",help:"multiply memory"},{label:"/!",op:"op",arg:"f/!",help:"divide memory"},{label:"&",op:"op",arg:"fand",help:"bitwise and"},{label:"|",op:"op",arg:"f-or",help:"bitwise or"},{label:"^",op:"op",arg:"fxor",help:"bitwise xor"},{label:"~",op:"op",arg:"finvert",help:"bitwise complement"},{label:"ceil",op:"op",arg:"fceil",help:"integer ceiling"},{label:"iconj",op:"noop",arg:"complex_conjugate",help:"complex conjugate"},{label:"arg",op:"noop",arg:"complex_arg",help:"complex_arg"},{label:"asr",op:"noop",arg:"asr",help:"bitwise arithmetic shift right"},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"F",op:"shift",arg:"f",help:"shift F"},{label:"G",op:"shift",arg:"g",help:"shift G"},{label:"H",op:"shift",arg:"default",help:"unshift H"},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""},{label:"",op:"noop",arg:"",help:""}];this.keypad={"default":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],f:[48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],g:[96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143],h:[144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191]};this.init=["100 allot","variable base","variable lastx","variable display-num-mode","variable display-num-arg","variable angle-mode","variable angle-const-data 2 allot",": set-display-mode display-num-mode ! display-num-arg ! ;",": display-all 0 0 set-display-mode ;",": display-fix f>s 1 set-display-mode ;",": display-sci f>s 2 set-display-mode ;",": display-eng f>s 3 set-display-mode ;",": f+! f>s dup f@ f+ f! ;",": f-! f>s dup f@ fswap f- f! ;",": f/! f>s dup f@ fswap f/ f! ;",": f*! f>s dup f@ f* f! ;",": grads 2 angle-mode ! ;",": degrees 1 angle-mode ! ;",": radians 0 angle-mode ! ;",": angle-const angle-const-data angle-mode @ + f@ ;",": angle-to-radians angle-const f* ;",": radians-to-angle angle-const f/ ;",": decimal 10 base ! ;",": hex 16 base ! ;",": octal 8 base ! ;",": binary 2 base ! ;","1.0e0 angle-const-data f!","fpi 2.0e0 f* 360.0e0 f/ angle-const-data 1 + f!","fpi 2.0e0 f* 400.0e0 f/ angle-const-data 2 + f!","0.0e0 lastx f!","decimal","degrees","display-all"]}if(typeof exports!=="undefined"){exports.YRX_m32_config=YRX_m32_config}var yrx_m32=new YRX({config:new YRX_m32_config,ko:ko,vm:new YVM});var view_model=new Model(yrx_m32.init());ko.applyBindings(view_model);